<html>
<head>
	<title></title>
	<script src="/socket.io/socket.io.js"></script>
	<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
	<script>
		var socket = io();

		socket.on('launchpad:on', function(m){
			$($('[data-y="' + m.y + '"]').find('td')[m.x]).removeClass('red orange green yellow').addClass('on ' + m.color);
		});

		socket.on('launchpad:off', function(m){
			$($('[data-y="' + m.y + '"]').find('td')[m.x]).removeClass('on red orange green yellow');
		});

		socket.on('socket:error', function(m){
			alert('Error: ' + m.error);
		});

		$(document).ready(function(){
			$.each($('.launchpad tr'), function(i, e){
				$.each($(e).find('td'), function(i2, e2){
					if(!$(e2).hasClass('logo')){
						$(e2).click(function(){
							var x = i2;
							var y = parseInt($(e).attr('data-y'));
							var data = {x: x, y: y, color: $('#color')[0].value};
							socket.emit('launchpad:toggle', JSON.stringify(data));
						});
					}else{
						$(e2).click(function(){
							window.location = "http://www.image-line.com/flstudio/";
						});
					}
				});
			});

			$('#color').change(function(){
				$('#color').css('background', $('#color')[0].value);
			});
		});
	</script>
	<style>
		body{
			font-family: "Arial";
		}

		h3{
			margin-bottom: 5px;
		}

		#tlkio{
			display: table;
			height: 745px;
			max-width: 100%;
			margin: 0 auto;
		}

		table{
			margin: 0 auto;
		}

		table.launchpad{
			padding: 5px;
			background-color: #545454;
			border-radius: 5px;
			border: 1px solid black;
			border-collapse: separate;
			border-spacing: 5px;
			margin: 0 auto;
			width: 75vh;
			height: 75vh;
		}

		.launchpad tr td{
			height: 75px;
			width: 75px;
			min-width: 75px !important;
			border-radius: 5px;
			border: 1px solid gray;
			background: LightGray;
			text-align: center;
			font-size: 10pt;
			cursor: pointer;
			box-shadow: 0px 0px 10px #000000;
		}

		.launchpad tr td:not(.logo):active{
			/*background: green !important;*/
		}

		.top.circle td{
			border-radius: 50%;
		}

		td{
			text-align: center;
		}

		.top td{
			margin-bottom: 5px;
		}

		.launchpad tr td:nth-of-type(9){
			border-radius: 50%;
		}

		.launchpad tr td.logo{
			border: none;
			background-image: url(http://composer-sa-musique.fr/wp-content/uploads/2012/08/256px-FL_Studio_Logo.png);
			background-size: cover;
			border-radius: 0px;
			background-position-x: 2px;
			background-repeat: no-repeat;
			background-color: transparent !important;
			box-shadow: none;
		}

		.launchpad tr td.on.green{
			background: rgb(0,255,0); /* Old browsers */
			background: -moz-radial-gradient(center, ellipse cover, rgba(0,255,0,1) 0%, rgba(140,255,140,1) 100%); /* FF3.6+ */
			background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,rgba(0,255,0,1)), color-stop(100%,rgba(140,255,140,1))); /* Chrome,Safari4+ */
			background: -webkit-radial-gradient(center, ellipse cover, rgba(0,255,0,1) 0%,rgba(140,255,140,1) 100%); /* Chrome10+,Safari5.1+ */
			background: -o-radial-gradient(center, ellipse cover, rgba(0,255,0,1) 0%,rgba(140,255,140,1) 100%); /* Opera 12+ */
			background: -ms-radial-gradient(center, ellipse cover, rgba(0,255,0,1) 0%,rgba(140,255,140,1) 100%); /* IE10+ */
			background: radial-gradient(ellipse at center, rgba(0,255,0,1) 0%,rgba(140,255,140,1) 100%); /* W3C */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ff0000', endColorstr='#ff8c8c',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
			box-shadow: 0px 0px 10px rgb(0,255,0);
		}

		.launchpad tr td.on.red{
			background: rgb(255,0,0); /* Old browsers */
			background: -moz-radial-gradient(center, ellipse cover, rgba(255,0,0,1) 0%, rgba(255,140,140,1) 100%); /* FF3.6+ */
			background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,rgba(255,0,0,1)), color-stop(100%,rgba(255,140,140,1))); /* Chrome,Safari4+ */
			background: -webkit-radial-gradient(center, ellipse cover, rgba(255,0,0,1) 0%,rgba(255,140,140,1) 100%); /* Chrome10+,Safari5.1+ */
			background: -o-radial-gradient(center, ellipse cover, rgba(255,0,0,1) 0%,rgba(255,140,140,1) 100%); /* Opera 12+ */
			background: -ms-radial-gradient(center, ellipse cover, rgba(255,0,0,1) 0%,rgba(255,140,140,1) 100%); /* IE10+ */
			background: radial-gradient(ellipse at center, rgba(255,0,0,1) 0%,rgba(255,140,140,1) 100%); /* W3C */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ff0000', endColorstr='#ff8c8c',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
			box-shadow: 0px 0px 10px rgb(255,0,0);
		}

		.launchpad tr td.on.orange{
			background: rgb(255,140,0); /* Old browsers */
			background: -moz-radial-gradient(center, ellipse cover, rgba(255,165,0,1) 0%, rgba(255,100,0,1) 100%); /* FF3.6+ */
			background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,rgba(255,165,0,1)), color-stop(100%,rgba(255,100,0,1))); /* Chrome,Safari4+ */
			background: -webkit-radial-gradient(center, ellipse cover, rgba(255,165,0,1) 0%,rgba(255,100,0,1) 100%); /* Chrome10+,Safari5.1+ */
			background: -o-radial-gradient(center, ellipse cover, rgba(255,165,0,1) 0%,rgba(255,100,0,1) 100%); /* Opera 12+ */
			background: -ms-radial-gradient(center, ellipse cover, rgba(255,165,0,1) 0%,rgba(255,100,0,1) 100%); /* IE10+ */
			background: radial-gradient(ellipse at center, rgba(255,165,0,1) 0%,rgba(255,100,0,1) 100%); /* W3C */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ff0000', endColorstr='#ff8c8c',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
			box-shadow: 0px 0px 10px rgb(255,140,0);
		}

		.launchpad tr td.on.yellow{
			background: rgb(255,255,0); /* Old browsers */
			background: -moz-radial-gradient(center, ellipse cover, rgba(255,255,0,1) 0%, rgba(255,200,0,1) 100%); /* FF3.6+ */
			background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,rgba(255,255,0,1)), color-stop(100%,rgba(255,200,0,1))); /* Chrome,Safari4+ */
			background: -webkit-radial-gradient(center, ellipse cover, rgba(255,255,0,1) 0%,rgba(255,200,0,1) 100%); /* Chrome10+,Safari5.1+ */
			background: -o-radial-gradient(center, ellipse cover, rgba(255,255,0,1) 0%,rgba(255,200,0,1) 100%); /* Opera 12+ */
			background: -ms-radial-gradient(center, ellipse cover, rgba(255,255,0,1) 0%,rgba(255,200,0,1) 100%); /* IE10+ */
			background: radial-gradient(ellipse at center, rgba(255,255,0,1) 0%,rgba(255,200,0,1) 100%); /* W3C */
			filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ff0000', endColorstr='#ff8c8c',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
			box-shadow: 0px 0px 10px rgb(255,255,0);
		}

		.launchpad tr:nth-of-type(5) td:nth-of-type(4){
			border-bottom-right-radius: 20px;
		}

		.launchpad tr:nth-of-type(5) td:nth-of-type(5){
			border-bottom-left-radius: 20px;
		}

		.launchpad tr:nth-of-type(6) td:nth-of-type(4){
			border-top-right-radius: 20px;
		}

		.launchpad tr:nth-of-type(6) td:nth-of-type(5){
			border-top-left-radius: 20px;
		}
	</style>
</head>
<body>
	<h1>Collaborative Launchpadding</h1>
	<h2>This is my actual real life Launchpad in real time, powered by <a href="http://nodejs.org">Node.js</a> and <a href="http://socket.io">Socket.io</a></h2>
	<table>
		<tr>
			<td>
				Color:
				<select style="background: red" id="color">
					<option value="red" style="background: red">red</option>
					<option value="orange" style="background: orange">orange</option>
					<option value="green" style="background: green">green</option>
					<option value="yellow" style="background: yellow">yellow</option>
				</select> Want to see the Launchpad live? <a href="https://plus.google.com/hangouts/_/g7ygkr7qdvez2bpdrfz63kks54a">Join the Hangout!</a>
				<table border="1" class="launchpad">
				  <tr data-y="8" class="top circle">
				    <td>UP</td>
				    <td>DOWN</td>
				    <td>LEFT</td>
				    <td>RIGHT</td>
				    <td>OVERVIEW</td>
				    <td>SCENE</td>
				    <td>+SCENE</td>
				    <td>SNAP</td>
				    <td class="logo"></td>
				  </tr>
				  <tr data-y="0">
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				  </tr>
				  <tr data-y="1">
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				  </tr>
				  <tr data-y="2">
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				  </tr>
				  <tr data-y="3">
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				  </tr>
				  <tr data-y="4">
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				  </tr>
				  <tr data-y="5">
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				  </tr>
				  <tr data-y="6">
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				  </tr>
				  <tr data-y="7">
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				  </tr>
				</table>
			</td>
			<td><h3>Chat</h3><div id="tlkio" data-channel="launchpad"></div><script async src="http://tlk.io/embed.js" type="text/javascript"></script></td>
		</tr>
	</table>
	<footer>An experiment by <a href="http://tjhorner.com">TJ Horner</a></footer>
</body>
</html>